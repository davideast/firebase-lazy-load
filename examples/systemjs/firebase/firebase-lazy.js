!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("firebase/app")):"function"==typeof define&&define.amd?define(["exports","firebase/app"],t):t(e.firebaseLazy=e.firebaseLazy||{},e.firebase)}(this,function(e,t){"use strict";function r(e){return new n({config:e.config,appName:e.appName,features:i,firebase:e.firebase})}var n=function(){function e(e){this.config=e.config,this.appName=e.appName,this.features=e.features,this.firebase=e.firebase}return e.prototype.load=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new Promise(function(r,n){var i=t.map(function(e){return e.toLowerCase()}),a=i.sort(function(e,t){return e<t?-1:e>t?1:0}),o=e.appName+a.join("~~"),f=e._checkAppCache(o);if(f)return void r(f);var p=i.map(function(t){return e.features[t]()});return Promise.all(p).then(function(t){return e._createApp(e.config,o)})})},e.prototype._createApp=function(e,r){return t.initializeApp(this.config,r)},e.prototype._checkAppCache=function(e){return this.firebase.apps.find(function(t){return t.name===e})},e}(),i={app:function(){return System.import("firebase/app")},auth:function(){return System.import("firebase/auth")},database:function(){return System.import("firebase/database")},storage:function(){return System.import("firebase/storage")},messaging:function(){return System.import("firebase/messaging")}};e.asyncApp=r,Object.defineProperty(e,"__esModule",{value:!0})});